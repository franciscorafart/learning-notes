# Elastic Compute Cloud

## EC2 (Elastic Compute Cloud)
- Most popular AWS service
- Infratructure as a Service

Capabilities
- Renting virtual machines (EC2)
- Storing data on virtual drives (EBS)
- Distribute loads across machines (ELB Elastic Load Balancer)
- Scale services (ASG Auto-scaling group)

EC2 are virtual servers that we rent from aws

Characteristics of machine
- OS: Linux, Windows or MacOS
- Compute power: Cores / CPU units
- RAM
- Storage
    - Network attached EBS / EFS
    - Hardware attached (EC2 instance store)
- Network card: Speed of card, public IP address
- Firewall rules: Security groups
- Bootstrap script (configure at first launch): EC2 user data

## EC2 User Data
We can bootstrap our machine instance using EC2 User data scripts, run once on start.

- The script can install updates, software, download files from internet, etc, al when starting the instance.
- EC2 data scripts run with the root user `sudo`

## Virtual machine types
There's different types of Virtual machines with different capacities. For practicing use `t2.micro`, which should be free for a monthrunning continously on the free tier.


# Instances

## Configuration
### Network
When configuring an instance you can allow SSH, HTTP, and HTTPS access to it.

### Key pair
Create a key pair for SSH (Secure shell) access from anywhere (0.0.0.0)

### Advanced
On the `User Data` or `Info` textfield you can add custom scripts that run the first time (only) the EC2 instance is booted.    s

AMI: EC2 instance operating system
Key pair: The key pair to access the EC2 instance via SSH

Id: The unique Id of an EC2 instance
Public Ipv4 address: Public IP address to access the instance from the internet. AWS will change the public IP address of an instance if you stop and restart it.
Private IPv4 address: Private IP address to access the EC2 instance internally from AWS (other services). AWS won't change the internal IP address when stopping and restarting.

Inbound rules: What ports of the instance are accessible from where (0.0.0.0 is everywhere)


### Stopping instances
If you stop an instance AWS will not bill you for it, so for testing purposes is better to have a stopped instance. Restarting the instance keeps the state because there's a volume attached to it (Storage).